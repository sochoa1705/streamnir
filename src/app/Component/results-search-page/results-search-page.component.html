<div class="container__page">
	<div class="container__page__search">
		<div class="container__page__search__metasearch">
			<app-tab-vuelos [isBgWhite]="false" [isPageResults]="true"></app-tab-vuelos>
		</div>
	</div>
	<section class="section"  *ngIf="!showError && !showNotResults">
		<app-filters
			[dataAirlines]="dataAirlines"
			[dataScaleFilter]="dataScaleFilter"
			[dataBagFilter]="dataBagFilter"
			[totalResults]="allDataGroups.length || 0"
			[totalResultsFilter]="dataFilterGroups.length || 0"
			[exchangeRate]="exchangeRate"
			(changeArrayFilters)="changeArrayFilters($event)"
			(updateArrayAirlinesFilter)="updateArrayAirlinesFilter($event)"
			(changeExchangeRate)="changeExchangeRate($event)"
			(filterByPrice)="filterByPrice($event)"
			(filterByDuration)="filterByDuration($event)"
			[minPrice]="minPrice"
			[maxPrice]="maxPrice"
			[isNotResult]="showNotResults"
			[valuesFilterDuration]="valuesFilterDuration"
			(resetFilterByDuration)="resetFilterByDuration()"
			(filterByDurationScale)="filterByDurationScale($event)"
		></app-filters>
		<div class="container__page__results">
			<app-sort-by
				[theCheapest]="theCheapest"
				[betterOption]="betterOption"
				[currency]="currency"
				[shorterDuration]="shorterDuration"
				[arrayMoreOptionsSort]="arrayMoreOptionsSort"
				(clickTabSort)="clickTabSort($event)"
			></app-sort-by>
			<div class="container__page__results__cards" *ngIf="isLoader">
				<ng-container *ngFor="let item of [].constructor(3)">
					<app-card-loader-result></app-card-loader-result>
				</ng-container>
			</div>
			<ng-container *ngIf="dataFilterGroups.length > 0">
				<div class="container__page__results__cards" *ngIf="dataGroupsPaginate.length > 0">
					<ng-container *ngFor="let item of dataGroupsPaginate">
						<app-card-result-search [idCheap]="idCheap" [idBest]="idBest" [flight]="item" [currency]="currency" [sortBy]="sortBy"></app-card-result-search>
					</ng-container>
				</div>
				<div class="container__page__results__button" *ngIf="dataGroupsPaginate.length !== dataFilterGroups.length">
					<app-button [text]="'Mostrar mÃ¡s resultados'" [color]="'outline-primary'" (onClick)="showMoreResults()"></app-button>
				</div>
			</ng-container>
			<app-not-results
				*ngIf="dataFilterGroups.length == 0 && !isLoader"
				[filters]="filters"
				[title]="titleNotResults"
				[type]="'not-result-filter'"
				(cleanFilters)="cleanFilters($event)"
			></app-not-results>
		</div>
	</section>

	<app-not-results *ngIf="showError"></app-not-results>
	<app-not-results *ngIf="showNotResults" [title]="titleNotResults" [type]="'not-result'"></app-not-results>
</div>
