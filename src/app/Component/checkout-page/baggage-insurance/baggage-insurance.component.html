<div class="container__page">
	<div class="container__page__section">
		<article>
			<div class="container__page__section__title">
				<span class="container__page__section__title__primary">Beneficios</span>
				<span *ngIf="itsIncludeUpSell" class="container__page__section__title__secondary">Elige tu mejor opción
					de tarifa y viaja sin preocupaciones.</span>
			</div>
			<app-card-checkout style="margin-top: 12px">
				<div class="container__page__section__header" *ngIf="itsIncludeUpSell">
					<div class="container__page__section__header__fee"
						(click)="showBaggageDropdown = !showBaggageDropdown">
						<img alt="img_checkout" src="./assets/svg/checkSuccess.svg" />
						<span>{{ nameSelectUpSell | titlecase }}</span>
						<img alt="img_checkout" class="arrow"
							[src]="showBaggageDropdown ? './assets/svg/RightUp.svg' : './assets/svg/Right.svg'" />
					</div>
					<app-button *ngIf="itsIncludeUpSell && getScreenWidth >950" [text]="'Amplia tus beneficios'"
						[color]="'outline-secondary'" [left]="true" [icon]="'plusBlue.svg'"
						(click)="openModalFee()"></app-button>
					<app-button *ngIf="itsIncludeUpSell && getScreenWidth <=950 && getScreenWidth > 550"
						[text]="'Ampliar'" [color]="'outline-secondary'" (click)="openModalFee()"
						[size]="'md'"></app-button>
					<app-button *ngIf="itsIncludeUpSell && getScreenWidth <=550" class="xs_button_100"
						[text]="'Ampliar beneficios'" [color]="'outline-secondary'" (click)="openModalFee()" [w100]=true
						[size]="'md'"></app-button>

				</div>

				<carousel *ngIf="detailFlight && showBaggageDropdown" [isAnimated]="false" [showIndicators]="false"
					[interval]="0" [noWrap]="true" (activeSlideChange)="changeSlide($event)">
					<slide *ngFor="let departure of detailFlight.departure; let i = index">
						<div class="container__page__section__multivuelo" *ngIf="detailFlight.departure.length > 1">
							<img alt="img_checkout"
								[src]="!activeArrowLeft ? './assets/svg/arrow-multi-left.svg' : './assets/svg/arrow-multi-left-red.svg'"
								[class.active__arrow]="activeArrowLeft" href="#carouselExampleControls" role="button"
								data-slide="prev" />
							<div class="container__page__section__multivuelo__title">
								<h5>
									{{ detailFlight.departure[i].originCity.name | titlecase }} -
									{{ detailFlight.departure[i].destinationCity.name | titlecase }}
								</h5>
								<span *ngIf="nameSelectUpSell !== ''">Tarifa {{ nameSelectUpSell | titlecase }}</span>
							</div>
							<img alt="img_checkout" [src]="
									!activeArrowRight ? './assets/svg/arrow-multi-right.svg' : './assets/svg/arrow-multi-right-red.svg'
								" [class.active__arrow]="activeArrowRight" href="#carouselExampleControls" role="button" data-slide="next" />
						</div>
						<div class="container__page__section__body">
							<div class="container__page__section__body__baggage">
								<div class="container__page__section__body__baggage__column">
									<span>Ida</span>
									<app-baggage [active]="true"></app-baggage>
									<app-baggage [type]="'hand-luggage'"
										[active]="detailFlight.departure[i].segments[0].equipaje?.cabina ? true : false"></app-baggage>
									<app-baggage [type]="'hold-luggage'"
										[active]="detailFlight.departure[i].segments[0].equipaje?.piezas ?? 0 > 0 ? true : false"></app-baggage>
								</div>
								<ng-container *ngIf="detailFlight.returns && detailFlight.returns !== null">
									<div class="container__page__section__body__baggage__line"></div>
									<div class="container__page__section__body__baggage__column">
										<span>Vuelta</span>
										<app-baggage [active]="true"></app-baggage>
										<app-baggage [type]="'hand-luggage'"
											[active]="detailFlight.returns.segments[0].equipaje?.cabina ? true : false"></app-baggage>
										<app-baggage [type]="'hold-luggage'"
											[active]="detailFlight.returns.segments[0].equipaje?.piezas ?? 0 > 0 ? true : false"></app-baggage>
									</div>
								</ng-container>
							</div>
							<div class="container__page__section__body__extras"
								*ngIf="itsIncludeUpSell && listBenefitsUpSellSelect.length > 0">
								<span (click)="showDropdownExtras = !showDropdownExtras"
									class="container__page__section__body__extras__title">Extras
									<img alt="img_checkout" class="arrow"
										[src]="showDropdownExtras ? './assets/svg/RightUp.svg' : './assets/svg/Right.svg'" /></span>
								<div class="container__page__section__body__extras__items" *ngIf="showDropdownExtras">
									<div class="container__page__section__body__extras__items__row"
										*ngFor="let benefit of listBenefitsUpSellSelect">
										<img alt="img_checkout" src="./assets/svg/check-blue.svg" /> <label>{{
											benefit.description }}</label>
									</div>
								</div>
							</div>
						</div>
					</slide>
				</carousel>
			</app-card-checkout>
		</article>
		<ng-container *ngIf="showSecure">
			<article *ngIf="detailFlight.returns && detailFlight.returns !== null">
				<div class="container__page__section__title"
					*ngIf="!itsIncludeInsurance && detailFlight.returns !== null">
					<span class="container__page__section__title__primary">Asistencia al viajero</span>
					<span class="container__page__section__title__secondary">Protege tu viaje y asegura tu
						tranquilidad.</span>
				</div>
				<app-card-checkout [padding]="false">
					<div class="container__page__section__insurance">
						<div class="container__page__section__insurance__body" *ngIf="!itsIncludeInsurance">
							<a href="https://www.nmviajes.com/seguros" target="_blank">
								<img src="./assets/checkout/attendance.png" alt="attendance" id="assist_card" />
								<img src="./assets/checkout/assist_card_mobile.png" alt="attendance-mob"
									id="assist_card_mob" />
							</a>
							<div class="container__page__section__insurance__body__checks">
								<div class="container__page__section__insurance__body__checks__option"
									*ngFor="let option of dataInsurance.principal">
									<img src="./assets/svg/checkGreen.svg" alt="v" />
									<span>{{ option }}</span>
								</div>
								<div class="container__page__section__insurance__body__checks__option">
									<app-button [text]="'Ver cobertura del seguro'" [color]="'link-secondary'"
										[left]="true" [icon]="'insurance.svg'"
										(onClick)="openModalCoverage()"></app-button>
								</div>
							</div>
						</div>
						<div class="container__page__section__insurance__success" *ngIf="itsIncludeInsurance">
							<div class="container__page__section__insurance__success__title">
								Asistencia al viajero agregado
								<img alt="img_checkout" src="./assets/svg/checkSuccess.svg" />
							</div>
							<div class="container__page__section__insurance__success__description">
								Te enviaremos la póliza y las instrucciones de activación a tu email luego que finalices
								la compra.
							</div>
						</div>

						<ng-container *ngIf="!itsIncludeInsurance">
							<div class="container__page__section__insurance__line"></div>
							<div class="container__page__section__insurance__footer">
								<span>Agregar por
									<span class="price"> <span class="usd">USD</span> {{ isDomestic ? '1.50' : '2.50' }}
									</span> por
									persona y por día</span>
								<app-button class="xs_button_100" [text]="'Agregar seguro'"
									[color]="'outline-secondary'" [left]="true" [icon]="'plusBlue.svg'"
									(click)="updateInsurance()" [isMobile]="true" [w100]="true"></app-button>
							</div>
						</ng-container>
					</div>
				</app-card-checkout>

				<div class="container__page__section__actions">
					<app-button *ngIf="itsIncludeInsurance" [text]="'Eliminar asistencia al viajero'"
						[color]="'link-secondary'" (click)="updateInsurance()"></app-button>
				</div>
			</article>
		</ng-container>
		<article>
			<div class="container__page__section__button" *ngIf="getScreenWidth > 574">
				<app-button [text]="'Continuar a pasajeros'" [color]="'primary'" (click)="nextPage()"></app-button>
			</div>
		</article>
	</div>
</div>