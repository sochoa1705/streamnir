<div class="preloader show" *ngIf="callFirstService">
  <div class="loaderSpin"></div>
</div>
<div class="d-flex flex-row bg-white flex-column py-3 px-5 boxFilter hideMov" *ngIf="safe0Json.detailPay === 'safe'">
  <div class="d-flex flex-row">
    <a (click)="returnToPlans()">
      <svg width="6" height="10" viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M5.65381 1.07581L2.15933 4.57792L5.65381 8.08003L4.578 9.15584L7.51402e-05 4.57792L4.578 -4.70252e-08L5.65381 1.07581Z"
          fill="#B50A27" />
      </svg> Vuelve para escoger otro plan</a>
  </div>

  <div class="d-flex flex-row justify-content-evenly py-3 bodyFilter" *ngIf="resultJson">
    <div class="d-flex align-items-center">
      <img src="./assets/_peru.png" alt=""> PE
    </div>

    <div class="d-flex align-items-center">
      <img src="./assets/origen.png" alt=""> {{ resultJson?.destinyString.descripcion_destino }}
    </div>

    <div class="d-flex align-items-center">
      <img src="./assets/calendar.png" alt=""> {{ resultJson.fromDate }} . {{ resultJson.toDate }} ( {{ resultJson?.days
      }} días )
    </div>

    <div class="d-flex align-items-center textBold">
      <img src="./assets/user.png" alt=""> {{ resultJson.passengers.length }} Pasajero(s)
    </div>
  </div>
</div>

<div class="container-fluid pb-4 px-4">
  <form [formGroup]="formShop" novalidate autocomplete="off">

    <input autocomplete="false" name="hidden" type="text" style="display:none;">

    <!-- VERSION MOBILE -->
    <div class="row stepCard onlyMovTablet">
      <mat-stepper [linear]="isLinear" #stepper label="Informacion de pasajeros"
        (selectionChange)="selectionChange($event)">

        <!-- PASO 1 -->
        <mat-step [stepControl]="firstFormGroup">

          <ng-template matStepLabel>Reserva</ng-template>

          <!-- DETALLE DE COBERTURA -->
          <h2 *ngIf="safe0Json.detalleCobertura && resultJson" class="titleCobertura mt-3">Detalle de cobertura
          </h2>

          <div *ngIf="safe0Json.detalleCobertura">
            <app-coverage [txtPlan]="safe0Json?.nombreProducto" [txtDias]="resultJson?.days" [txtOrigen]=""
              [txtDestino]="resultJson?.destinyString.descripcion_destino" [txtSalida]="resultJson?.fromDate"
              [txtRegreso]="resultJson?.toDate" [txtPasajeros]="resultJson?.passengers.length" [plan]="safe0Json">
            </app-coverage>
          </div>
          <!-- DETALLE DE COBERTURA -->

          <!-- INFORMACION DE PASAJEROS MOVIL-->
          <div class="card pasajeros">
            <div class="card-header">
              <h2>Información de pasajeros</h2>

              <span>
                <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="7.5" cy="7.5" r="7.25" stroke="#F29704" stroke-width="0.5" />
                  <path
                    d="M6.936 3.6H8.292L8.064 9.348H7.152L6.936 3.6ZM7.62 12.072C7.396 12.072 7.208 12 7.056 11.856C6.904 11.704 6.828 11.52 6.828 11.304C6.828 11.088 6.904 10.908 7.056 10.764C7.208 10.612 7.396 10.536 7.62 10.536C7.844 10.536 8.028 10.612 8.172 10.764C8.316 10.908 8.388 11.088 8.388 11.304C8.388 11.52 8.312 11.704 8.16 11.856C8.016 12 7.836 12.072 7.62 12.072Z"
                    fill="#F29704" />
                </svg>
                Verifica que los datos ingresados sean correctos ya que una vez emitido el boleto este
                no puede ser cambiado.
              </span>
            </div>

            <div formArrayName="customers">

              <div [formGroupName]="i" *ngFor="let customer of customers.controls; let i = index"
                class="row rowMobileCard">

                <div class="card-body card_pasajero">
                  <h4 class="d-flex align-items-center card-title">
                    <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M12.8033 9.69668C11.9864 8.87982 11.0141 8.27511 9.95329 7.90904C11.0895 7.12649 11.8359 5.81684 11.8359 4.33594C11.8359 1.94511 9.89083 0 7.5 0C5.10917 0 3.16406 1.94511 3.16406 4.33594C3.16406 5.81684 3.91052 7.12649 5.04674 7.90904C3.9859 8.27511 3.01359 8.87982 2.19671 9.69668C0.780147 11.1133 0 12.9967 0 15H1.17188C1.17188 11.5107 4.01065 8.67188 7.5 8.67188C10.9893 8.67188 13.8281 11.5107 13.8281 15H15C15 12.9967 14.2199 11.1133 12.8033 9.69668ZM7.5 7.5C5.75534 7.5 4.33594 6.08063 4.33594 4.33594C4.33594 2.59125 5.75534 1.17188 7.5 1.17188C9.24466 1.17188 10.6641 2.59125 10.6641 4.33594C10.6641 6.08063 9.24466 7.5 7.5 7.5Z"
                        fill="#009AED" />
                    </svg> &nbsp; Pasajero {{ i + 1 }} (
                    <strong>{{ resultJson['aniosNacimiento'][i].edad }} años</strong> )
                  </h4>

                  <div class="row rowMobileCard">
                    <div class="col-6 viewMobileWidth">
                      <label>Nombres</label>

                      <input class="form-control" type="text" formControlName="nameCustomer"
                        (keypress)="allowAlphabetic($event)" (paste)="onPasteAlphabetic($event)"
                        (drop)="denyDrop($event)" placeholder="El que figura en el documento de viaje.">

                      <span class="valid" *ngIf="customers.controls[i].get('nameCustomer')?.errors?.required">
                        Ingresa los nombres del pasajero
                      </span>
                    </div>

                    <div class="col-6 viewMobileWidth">
                      <label>Apellidos</label>

                      <input class="form-control" type="text" formControlName="lastNameCustomer"
                        (keypress)="allowAlphabetic($event)" (paste)="onPasteAlphabetic($event)"
                        (drop)="denyDrop($event)" placeholder="El que figura en el documento de viaje.">

                      <span class="valid" *ngIf="customers.controls[i].get('lastNameCustomer')?.errors?.required">
                        Ingresa los apellidos del pasajero
                      </span>
                    </div>

                    <div class="col-6 viewMobileWidth">
                      <label>Fecha de nacimiento</label>

                      <div class="row fecNacTab">
                        <div class="col-3">
                          <select formControlName="dayCustomer" class="form-select-f">
                            <option value="">Día</option>
                            <option *ngFor="let day of days" value="{{day}}">{{day}}</option>
                          </select>
                        </div>

                        <div class="col-6">
                          <select formControlName="monthCustomer" class="form-select-f">
                            <option value="" selected>Seleccione</option>
                            <option *ngFor="let elem of months" [value]="elem.value">{{
                              elem.name }}</option>
                          </select>
                        </div>

                        <div class="col-3">
                          <select formControlName="yearCustomer" class="form-select-f">
                            <option value="" selected>Seleccione</option>

                            <option value="{{this.resultJson['aniosNacimiento'][i].anio}}">
                              {{this.resultJson['aniosNacimiento'][i].anio}}</option>
                            <option value="{{this.resultJson['aniosNacimiento'][i].anio - 1}}">
                              {{this.resultJson['aniosNacimiento'][i].anio - 1}}</option>
                          </select>
                        </div>
                      </div>
                    </div>

                    <div class="col-6 viewMobileWidth">
                      <label for="names">Nacionalidad</label>

                      <select formControlName="nationalityCustomer" class="form-select-f">
                        <option value="" selected>Seleccione nacionalidad</option>

                        <option *ngFor="let elem of countries" [value]="elem.Iata">
                          {{ elem.Name }}
                        </option>
                      </select>
                    </div>

                    <div class="col-3 viewMobileWidth">
                      <label for="names">Tipo de documento</label>

                      <select formControlName="typeDocCustomer" class="form-select-f"
                        (change)="onChangeOfficialDocument(i)">
                        <option value="" selected>Seleccione</option>
                        <option value="DNI">DNI</option>
                        <option value="PSP">Pasaporte</option>
                        <option value="CEX">C. Extranjería</option>
                      </select>
                    </div>

                    <div class="col-3 viewMobileWidth">
                      <label for="lastname">N° de documento</label>
                      <input class="form-control" formControlName="numDocCustomer" type="text"
                        (keypress)="allowOfficialDocument($event, i)" (paste)="denyPaste($event)"
                        (drop)="denyDrop($event)" name="ndocumento">
                    </div>

                    <div class="col-6 viewMobileWidth">
                      <label for="names">Sexo</label>

                      <div class="optionSel">
                        <div class="form-check form-check-inline optionLeft">
                          <input class="form-check-input sex" formControlName="sexCustomer" value="masculino"
                            type="radio" id="sexMasc{{i}}">
                          <label class="form-check-label" for="sexMasc{{i}}">Masculino</label>
                        </div>

                        <div class="form-check form-check-inline optionRight">
                          <input class="form-check-input sex" formControlName="sexCustomer" value="femenino"
                            type="radio" id="sexFem{{i}}">
                          <label class="form-check-label" for="sexFem{{i}}">Femenino</label>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>

              <div class="row rowMobileCard ">
                <div class="col-12 contentCenterMobile">
                  <button mat-button matStepperNext class="px-5">Continuar</button>
                </div>
              </div>
            </div>
          </div>
        </mat-step>

        <!-- PASO 2 -->
        <mat-step [stepControl]="secondFormGroup">
          <div class="row">
            <div class="col-12 medioPagoMobile">
              <div class="card cardPagoMobile">
                <div class="card-header shadow-none">
                  <h2>Selecciona el medio de pago</h2>
                  <span>Selecciona tu método de pago (el pago se llevará a cabo una vez presiones el
                    botón pagar al final del formulario).
                  </span>
                </div>

                <div class="card-body" formGroupName="paymentMethodForm">
                  <div class="row card_ py-4 justify-content-evenly cardMob" *ngIf="mobile">
                    <input *ngFor="let chk of metodoPago" formControlName="select21" value="{{chk.value}}" type="radio"
                      name="select21" id="{{ chk.name }}" (click)="chkValue(chk.name)" [checked]="chk.checked">

                    <label *ngFor="let chk of metodoPago" for="{{ chk.name }}"
                      class="option {{ chk.name }} col-4 offset-1 py-3 lessMarginLeft boxMob">
                      <div class="dot"></div>
                      <img class="marginL" src="./assets{{ chk.img }}" alt="">
                      <span>{{ chk.text }}</span>
                    </label>

                    <div class="textEmision">Emisión automática después del pago.</div>
                  </div>

                  <div class="boxCardPas" *ngIf="selectedPay === 'tarjeta'; else safety2">
                    <div class="row py-5">
                      <div class="col-12 text-center pago">
                        <img src="./assets/comprar/_visa.png" alt="">
                        <img src="./assets/comprar/_master.png" alt="">
                        <img src="./assets/comprar/_american.png" alt="">
                        <img src="./assets/comprar/_dinners.png" alt="">
                      </div>
                    </div>

                    <div class="row card_pasajero rowMobileCard">
                      <div class="col-6 viewMobileWidth">
                        <label>Número de tarjeta</label>

                        <input class="form-control" formControlName="numberCard" mask="0000-0000-0000-0000"
                          placeholder="Ingrese el número de tarjeta." type="text" (blur)="validarTarjeta()">
                      </div>

                      <div class="col-6 viewMobileWidth">
                        <label>Titular de la tarjeta</label>

                        <input class="form-control" formControlName="nameCard"
                          placeholder="El que figura en la tarjeta." (keypress)="allowAlphabetic($event)"
                          (paste)="onPasteAlphabetic($event)" (drop)="denyDrop($event)" type="text">
                      </div>
                    </div>

                    <div class="row  card_pasajero rowMobileCard">
                      <div class="col-6 viewMobileWidth">
                        <div class="row">
                          <div class="col-5">
                            <label>Vencimiento</label>

                            <input class="form-control" formControlName="expiredCard" mask="99/99" placeholder="MM/AA"
                              (keypress)="allowNumeric($event)" (paste)="onPasteNumeric($event)"
                              (drop)="denyDrop($event)" type="text">
                          </div>

                          <div class="col-6">
                            <label>Código de seguridad</label>

                            <input class="form-control" formControlName="ccvCard" mask="0*" maxlength="3"
                              (keypress)="allowNumeric($event)" (paste)="onPasteNumeric($event)"
                              (drop)="denyDrop($event)" placeholder="CVC" type="text" autocomplete="false">
                          </div>

                          <div class="col-1 colBoxInfo">
                            <div class="iconInfo">
                              <img src="./assets/comprar/card/info.png" alt="">
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="col-6 viewMobileWidth">
                        <div class="row">
                          <div class="col-5">
                            <label>Tipo de doc</label>
                            <select formControlName="tipoDoc" class="form-select-f"
                              (change)="onChangeOfficialDocument(99)">
                              <option value="" selected>Seleccione</option>
                              <option value="DNI">DNI</option>
                              <option value="PSP">Pasaporte</option>
                              <option value="CEX">C. Extranjería</option>
                            </select>
                          </div>

                          <div class="col-7">
                            <label for="lastname">N° de documento</label>
                            <input class="form-control" placeholder="Ingresar N°" type="text" name="lastname"
                              (keypress)="allowOfficialDocument($event, 99)" (paste)="denyPaste($event)"
                              (drop)="denyDrop($event)">
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="row card_pasajero rowMobileCard">
                      <div class="col-6 viewMobileWidth">
                        <label>Cuotas</label>
                        <select formControlName="feePay" class="form-select-f">
                          <option value="" selected>Seleccione</option>
                          <option value="0">Sin cuotas</option>
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5</option>
                          <option value="6">6</option>
                          <option value="7">7</option>
                          <option value="8">8</option>
                          <option value="9">9</option>
                          <option value="10">10</option>
                          <option value="11">11</option>
                          <option value="12">12</option>
                        </select>
                      </div>

                      <div class="col-6 viewMobileWidth">
                        <label for="lastname">Ciudad de facturación</label>
                        <input class="form-control" placeholder="Del titular de la tarjeta." type="text"
                          (keypress)="allowAlphabetic($event)" (paste)="onPasteAlphabetic($event)"
                          (drop)="denyDrop($event)" name="lastname">
                      </div>
                    </div>

                    <div class="row card_pasajero rowMobileCard">
                      <div class="col-12 viewMobileWidth">
                        <label for="names">Dirección</label>
                        <input class="form-control" placeholder="Ingrese la dirección" type="text" name="names">
                      </div>

                      <!-- <div class="col-6 textDire viewMobileWidth">
                        <label for="names"></label>
                        <div>Emisión en max 24hrs aprox.</div>
                      </div> -->
                    </div>
                  </div>

                  <ng-template #safety2>
                    <!-- MOVILE -->
                    <div class="col-5 offset-1 py-3 textSafMob">
                      <p class="textSafety">Seleccione una opción para pagar</p>
                    </div>

                    <div class="row btnSafe">
                      <div class="col-5 viewMobileWidth">
                        <a class="btnBlue" [class.active]="id === 'banca'" value="true"
                          (click)="optionPay($event, true, 'banca');">Banca por internet o
                          Móvil
                        </a>
                      </div>

                      <div class="col-5 viewMobileWidth">
                        <a class="btnBlue" value="false" [class.active]="id === 'movil'"
                          (click)="optionPay($event, false, 'movil')">Agencias / Agentes</a>
                      </div>
                    </div>

                    <ng-container *ngIf="banca; else agencia">
                      <div class="row boxAgencia">
                        <div class="d-flex justify-content-center imgBanca">
                          <img src="./assets/comprar/pago/_bcp.png" alt="">
                          <img src="./assets/comprar/pago/_scotiabank.png" alt="">
                          <img src="./assets/comprar/pago/_interbank.png" alt="">
                          <img src="./assets/comprar/pago/_bbva.png" alt="">
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-6 offset-3 py-4 lessViewMob" *ngIf="mobile">
                          <select formControlName="bankPay" class="selectBank form-select-f" (change)="onchangeBanco()"
                            [ngClass]="{isvalid : validatePaymentMethodForm('bankPay')}">
                            <option value="" selected>Selecciona tu banco</option>
                            <option *ngFor="let elem of banks" value="{{elem.value}}">
                              {{ elem.name }}
                            </option>
                          </select>

                          <span class="valid" *ngIf="validatePaymentMethodForm('bankPay')">
                            Selecciona el banco
                          </span>
                        </div>
                      </div>

                      <div class="row py-4 marginLat">
                        <div class="col-6 ">
                          <span
                            style="font-family: Montserrat; font-weight: 600; font-size: 14px; line-height: 21px; letter-spacing: 0.1px; color: #df0c30;">Emisión
                            automática después del pago.</span>
                        </div>

                        <div class="col-6 text-end">
                          <a href="#" data-bs-toggle="modal" data-bs-target="#ModalBlue">¿Como
                            pagar con SafetyPay online?</a>
                        </div>
                      </div>

                      <div class="row boxLimite">
                        <div class="titleLimite">Tiempo Límite</div>
                        <div class="descripLimite">
                          Recuerda que una vez generado tu código safetypay, deberás pagar dentro de las
                          <strong>próximas 2 horas</strong>. De lo contrario la reserva será cancelada.
                        </div>
                      </div>
                    </ng-container>

                    <ng-template #agencia>
                      <div class="row boxAgencia">
                        <div class="d-flex justify-content-center imgBanca">
                          <img src="./assets/comprar/pago/_bcp.png" alt="">
                          <img src="./assets/comprar/pago/_scotiabank.png" alt="">
                          <img src="./assets/comprar/pago/_interbank.png" alt="">
                          <img src="./assets/comprar/pago/_bbva.png" alt="">
                          <img src="./assets/comprar/pago/_wester.png" alt="">
                        </div>
                        <div class="d-flex justify-content-center imgBanca">
                          <img src="./assets/comprar/pago/_arequipa.png" alt="">
                          <img src="./assets/comprar/pago/_huancayo.png" alt="">
                          <img src="./assets/comprar/pago/_trujillo.png" alt="">
                          <img src="./assets/comprar/pago/_tacna.png" alt="">
                          <img src="./assets/comprar/pago/_tambo.png" alt="">
                        </div>

                        <div class="row">
                          <div class="col-12 text-end">
                            <a href="#">¿Como pagar con SafetyPay online?</a>
                          </div>
                        </div>
                      </div>
                    </ng-template>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-12 ">
              <div class="accordion">
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <a class="accordion-button" (click)="showVerDetalle()">
                      Ver detalles
                    </a>
                  </h2>

                  <div *ngIf="showDetalle == true">
                    <div class="accordion-body">
                      <div class="row" *ngFor="let elem of safe0Json.tarifario">
                        <div class="col-7">
                          <span class="textAcor">Pasajero de {{elem.Edad}} años</span>
                        </div>
                        <div class="col-5 text-end">
                          <span class="price_new">US$ {{elem.precioEmisionLocal}}</span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row totalItem">
                    <div class="col-7">
                      <span class="price_end">TOTAL A PAGAR</span>
                    </div>
                    <div class="col-5 text-end">
                      {{safe0Json?.monedaLista === 'USD' ? 'US$' : 'PEN'}}
                      <span class="price_end_number">{{ totalToPay }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row rowMobileCard marginTop20">
            <div class="col-12 contentCenterMobile">
              <button mat-button matStepperNext class="px-5">Continuar</button>
            </div>
          </div>
        </mat-step>

        <!-- PASO 3-->
        <mat-step>
          <!-- DATOS CONTACTO MOVIL-->
          <div class="row marginTop20">
            <div class="col-12">
              <div class="card">
                <div class="card-header shadow-none" (click)="showDataContact()">
                  <h2>Datos de contacto
                    <img class="iconFlechaSup" [class.activeIcon]="!showDataContacto"
                      src="./assets/comprar/flecha-top.png" alt="">
                  </h2>
                  <span>Ingresa tus datos actualizados, este se utilizará para avisarte en caso de
                    cambios en
                    el itinerario. </span>
                </div>

                <div formGroupName="contactForm" class="card-body card_pasajero boxHideM shadow-none"
                  [class.activoBoxContact]="!showDataContacto">

                  <div class="row rowMobileCard">
                    <div class="col-6 viewMobileWidth">
                      <label>Nombres</label>

                      <input class="form-control" #nameContactForm placeholder="Ingresa tu(s) nombre(s)"
                        [ngClass]="{isvalid : validateContactForm('nameContacto')}" formControlName="nameContacto"
                        type="text" value="" name="names" (click)="startContactDetails()">

                      <span class="valid" *ngIf="validateContactForm('nameContacto')">
                        Ingresa tus nombres de contacto
                      </span>
                    </div>

                    <div class="col-6 viewMobileWidth">
                      <label>Apellidos</label>

                      <input class="form-control" #lastNameContactForm placeholder="Ingresa tus apellidos"
                        [ngClass]="{isvalid : validateContactForm('lastnameContacto')}"
                        formControlName="lastnameContacto" type="text" name="lastname">

                      <span class="valid" *ngIf="validateContactForm('lastnameContacto')">
                        Ingresa tus apellidos de contacto
                      </span>
                    </div>
                  </div>

                  <div class="row rowMobileCard">
                    <div class="col-6 viewMobileWidth">
                      <label for="Email">Email</label>

                      <input class="form-control" placeholder="Ingresa tu email de contacto"
                        [ngClass]="{isvalid : validateContactForm('mailContacto')}" formControlName="mailContacto"
                        type="text">

                      <span class="valid" *ngIf="validateContactForm('mailContacto')">
                        {{ contactEmailErrorMessage }}
                      </span>
                    </div>

                    <div class="col-6 viewMobileWidth">
                      <label for="EmailC">Confirma tu email</label>

                      <input class="form-control" formControlName="mailConfirmContacto"
                        [ngClass]="{isvalid : validateContactForm('mailConfirmContacto')}"
                        placeholder="Ingresa el mismo email" type="text">

                      <span class="valid" *ngIf="validateContactForm('mailConfirmContacto')">
                        Ingresa el mismo email
                      </span>
                    </div>
                  </div>

                  <div class="row rowMobileCard">
                    <div class="col-6 viewMobileWidth">
                      <label for="typePhone0">Tipo de teléfono</label>

                      <select formControlName="typePhone0" class="form-select-f"
                        [ngClass]="{isvalid : validateContactForm('typePhone0')}">
                        <option value="1">Fijo</option>
                        <option value="2">Celular</option>
                      </select>

                      <span class="valid" *ngIf="validateContactForm('typePhone0')">
                        Selecciona el tipo de teléfono
                      </span>
                    </div>

                    <div class="col-6 viewMobileWidth">
                      <div class="row">
                        <div class="col-5 width110">
                          <label for="code0">Código de país</label>

                          <div class="iconBandera">
                            <svg width="29" height="28" viewBox="0 0 29 28" fill="none"
                              xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                              <mask id="mask0" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="1" y="1" width="27"
                                height="27">
                                <path
                                  d="M27.5 14.1001C27.5 21.0449 21.694 26.7002 14.5 26.7002C7.30602 26.7002 1.5 21.0449 1.5 14.1001C1.5 7.15532 7.30602 1.5 14.5 1.5C21.694 1.5 27.5 7.15532 27.5 14.1001Z"
                                  fill="#C4C4C4" stroke="#E4E5E7" />
                              </mask>
                              <g mask="url(#mask0)">
                                <rect x="-4.40002" y="1" width="37.8" height="26.2002" fill="url(#pattern0)" />
                              </g>
                              <path
                                d="M14.5 27.4502C22.0849 27.4502 28.25 21.5268 28.25 14.2002C28.25 6.87361 22.0849 0.950195 14.5 0.950195C6.91506 0.950195 0.75 6.87361 0.75 14.2002C0.75 21.5268 6.91506 27.4502 14.5 27.4502Z"
                                stroke="#E4E5E7" stroke-width="0.5" />
                              <defs>
                                <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
                                  <use xlink:href="#image0"
                                    transform="translate(-0.0198452) scale(0.0038507 0.00555556)" />
                                </pattern>
                                <image id="image0" width="270" height="180"
                                  xlink:href="data:image/png;base64,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" />
                              </defs>
                            </svg>
                          </div>

                          <input type="text" formControlName="code0" class="form-control"
                            [ngClass]="{isvalid : validateContactForm('code0')}" placeholder="">

                          <span class="valid" *ngIf="validateContactForm('code0')">
                            Selecciona el código de país
                          </span>
                        </div>

                        <div class="col-7">
                          <label for="numberPhone0">Número de teléfono</label>

                          <input type="text" formControlName="numberPhone0" maxlength="10" class="form-control"
                            [ngClass]="{isvalid : validateContactForm('numberPhone0')}" placeholder="Ingresa N°">

                          <span class="valid" *ngIf="validateContactForm('numberPhone0')">
                            Ingresa tu número de teléfono
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row rowMobileCard" *ngIf="showInvoiceData">
                    <div class="col-4 viewMobileWidth">
                      <label for="ruc">RUC</label>
                      <input type="text" formControlName="ruc" class="form-control"
                        [ngClass]="{isvalid : validateContactForm('ruc')}" placeholder="Ingresa N° de Ruc">

                      <span class="valid" *ngIf="validateContactForm('ruc')">
                        {{ contactRUCErrorMessage }}
                      </span>
                    </div>

                    <div class="col-4 viewMobileWidth">
                      <label for="ruc">Razón social</label>
                      <input type="text" formControlName="razonSocial" class="form-control"
                        [ngClass]="{isvalid : validateContactForm('razonSocial')}"
                        placeholder="Ingresa la razón social">

                      <span class="valid" *ngIf="validateContactForm('razonSocial')">
                        Ingresa la razón social
                      </span>
                    </div>

                    <div class="col-8 viewMobileWidth">
                      <label for="dirección">Dirección</label>
                      <input formControlName="direccion" class="form-control"
                        [ngClass]="{isvalid : validateContactForm('direccion')}" placeholder="Ca. / Jr. / Av.">

                      <span class="valid" *ngIf="validateContactForm('direccion')">
                        Ingresa una dirección
                      </span>
                    </div>
                  </div>

                  <div class="row rowMobileCard">
                    <div class="col-6 viewMobileWidth">
                      <div class="form-check">
                        <input class="form-check-input" formControlName="invoiceRequestBox" type="checkbox"
                          [checked]="showInvoiceData" (change)="showInvoiceData = !showInvoiceData"
                          id="invoiceRequestBox">

                        <label class="form-check-label" for="invoiceRequestBox">Solicitar
                          factura</label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-12 ">
              <div class="card checkPopup">
                <div class="row rowMobileCard">
                  <div class="col-6 viewMobileWidth">
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="checkbox" formControlName="chkPolity" id="chkPolity"
                        value="option1">

                      <label class="form-check-label" for="chkPolity">He leído y acepto las
                        <a class="linkBlue" data-bs-toggle="modal" data-bs-target="#politicaModal">políticas de
                          protección
                          de datos personales.
                        </a>
                      </label>
                    </div>

                    <span class="valid" *ngIf="validateInsuranceForm('chkPolity')">
                      Debe de aceptar las póliticas de porotección de datos personales.
                    </span>
                  </div>

                  <div class="col-6 viewMobileWidth">
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="checkbox" formControlName="chkInfo" id="chkInfo"
                        value="option1">

                      <label class="form-check-label" for="chkInfo">Autorizo el uso de mi Información
                        para la publicidad.</label>
                    </div>

                    <span class="valid" *ngIf="validateInsuranceForm('chkInfo')">
                      Debe de aceptar el uso de su información para la publicidad.
                    </span>
                  </div>
                </div>

                <div class="row">
                  <div class="col-12">
                    Al realizar esta compra, acepto los
                    <a class="linkBlue" data-bs-toggle="modal" data-bs-target="#Modaltermino">&nbsp;términos y
                      condiciones de compra</a>,
                    <a class="linkBlue" data-bs-toggle="modal" data-bs-target="#reservaModal">&nbsp;condiciones de
                      reserva&nbsp;</a> y
                    <a class="linkBlue" data-bs-toggle="modal" data-bs-target="#ModalCondicion">&nbsp;documentación de
                      viaje</a>.
                  </div>
                </div>
              </div>
            </div>

            <!-- <pre>Validaciones de formularios</pre>
          
                    <pre>FormShop valid: {{ formShop.valid }}</pre>
                    <pre>FormShop values</pre>
                    <pre>{{ formShop.value | json }}</pre>
          
                    <pre>PaymentMethodForm valid: {{ paymentMethodForm.valid }}</pre>
                    <pre>PaymentMethodForm values</pre>
                    <pre>{{ paymentMethodForm.value | json }}</pre>
          
                    <pre>ContactForm valid: {{ contactForm.valid }}</pre>
                    <pre>ContactForm values</pre>
                    <pre>{{ contactForm.value | json }}</pre>
          
                    <pre>ruc errors</pre>
                    <pre>{{ contactForm.controls.ruc.errors | json }}</pre>
                    <pre>direccion errors</pre>
                    <pre>{{ contactForm.controls.direccion.errors | json }}</pre> -->

            <div class="boxHelp" *ngIf="replyMessage.length > 0">
              <div class="iconArrow"><img src="./assets/svg/arrow-left.svg" alt=""></div>
              <div class="descrip">{{replyMessage}}</div>
            </div>

            <div class="row rowMobileCard ">
              <div class="col-12 contentCenterMobile">
                <button mat-button class="px-5" id="btnComprar1" [disabled]="pressedToBuy"
                  (click)="buyInsurance()">Comprar</button>
              </div>
            </div>
          </div>
          <!-- DATOS CONTACTO MOVIL -->
        </mat-step>
      </mat-stepper>
    </div>
    <!-- END VERSION MOBILE -->

    <!-- VERSION DESKTOP -->
    <div class="row pt-md-3 onlydesktop">
      <div class="col-8 viewMobileWidth order-1 order-md-0 ">
        <h1 class="titleMob d-md-block d-none">{{ safe0Json?.title }}</h1>

        <!-- IZQUIERDA -->
        <!-- FORM PASAJEROS DESKTOP -->
        <div class="card pasajeros hideViewMobile">
          <div class="card-header">
            <h2>Información de pasajeros</h2>

            <span>
              <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="7.5" cy="7.5" r="7.25" stroke="#F29704" stroke-width="0.5" />
                <path
                  d="M6.936 3.6H8.292L8.064 9.348H7.152L6.936 3.6ZM7.62 12.072C7.396 12.072 7.208 12 7.056 11.856C6.904 11.704 6.828 11.52 6.828 11.304C6.828 11.088 6.904 10.908 7.056 10.764C7.208 10.612 7.396 10.536 7.62 10.536C7.844 10.536 8.028 10.612 8.172 10.764C8.316 10.908 8.388 11.088 8.388 11.304C8.388 11.52 8.312 11.704 8.16 11.856C8.016 12 7.836 12.072 7.62 12.072Z"
                  fill="#F29704" />
              </svg>
              Verifica que los datos ingresados sean correctos ya que una vez emitido el boleto este no
              puede ser cambiado.
            </span>
          </div>

          <div formArrayName="customers">

            <div [formGroupName]="i" *ngFor="let customer of customers.controls; let i = index"
              class="row rowMobileCard">

              <hr *ngIf="i > 0">

              <div class="card-body card_pasajero">
                <h4 class="d-flex align-items-center card-title">
                  <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M12.8033 9.69668C11.9864 8.87982 11.0141 8.27511 9.95329 7.90904C11.0895 7.12649 11.8359 5.81684 11.8359 4.33594C11.8359 1.94511 9.89083 0 7.5 0C5.10917 0 3.16406 1.94511 3.16406 4.33594C3.16406 5.81684 3.91052 7.12649 5.04674 7.90904C3.9859 8.27511 3.01359 8.87982 2.19671 9.69668C0.780147 11.1133 0 12.9967 0 15H1.17188C1.17188 11.5107 4.01065 8.67188 7.5 8.67188C10.9893 8.67188 13.8281 11.5107 13.8281 15H15C15 12.9967 14.2199 11.1133 12.8033 9.69668ZM7.5 7.5C5.75534 7.5 4.33594 6.08063 4.33594 4.33594C4.33594 2.59125 5.75534 1.17188 7.5 1.17188C9.24466 1.17188 10.6641 2.59125 10.6641 4.33594C10.6641 6.08063 9.24466 7.5 7.5 7.5Z"
                      fill="#009AED" />
                  </svg> &nbsp; Pasajero {{ i + 1 }} &nbsp; (<strong>{{
                    this.resultJson['passengers'][i].edad
                    }}
                    años</strong>)
                </h4>

                <div class="row rowMobileCard hideMobile">
                  <div class="col-6 viewMobileWidth">
                    <label>Nombres</label>

                    <input class="form-control" type="text" formControlName="nameCustomer"
                      (keypress)="allowAlphabetic($event)" (paste)="onPasteAlphabetic($event)" (drop)="denyDrop($event)"
                      placeholder="El que figura en el documento de viaje.">

                    <span class="valid" *ngIf="customers.controls[i].get('nameCustomer')?.errors?.required">
                      Ingresa los nombres del pasajero
                    </span>
                  </div>

                  <div class="col-6 viewMobileWidth">
                    <label>Apellidos</label>

                    <input class="form-control" formControlName="lastNameCustomer" (keypress)="allowAlphabetic($event)"
                      (paste)="onPasteAlphabetic($event)" (drop)="denyDrop($event)"
                      placeholder="El que figura en el documento de viaje." type="text">

                    <span class="valid" *ngIf="customers.controls[i].get('lastNameCustomer')?.errors?.required">
                      Ingresa los apellidos del pasajero
                    </span>
                  </div>
                </div>

                <div class="row rowMobileCard hideMobile">
                  <div class="col-6 viewMobileWidth">
                    <label for="names">Fecha de nacimiento</label>

                    <div class="row">
                      <div class="col-3">
                        <select formControlName="dayCustomer" class="form-select-f">
                          <option value="">Día</option>
                          <option *ngFor="let day of days" value="{{day}}">{{day}}</option>
                        </select>
                      </div>

                      <div class="col-6">
                        <select formControlName="monthCustomer" class="form-select-f">
                          <option value="" selected>Mes</option>
                          <option *ngFor="let elem of months" [value]="elem.value">{{
                            elem.name }}</option>
                        </select>
                      </div>

                      <div class="col-3">
                        <select formControlName="yearCustomer" class="form-select-f">
                          <option value="" selected>Año</option>

                          <option value="{{this.resultJson['aniosNacimiento'][i].anio}}">
                            {{this.resultJson['aniosNacimiento'][i].anio}}</option>
                          <option value="{{this.resultJson['aniosNacimiento'][i].anio - 1}}">
                            {{this.resultJson['aniosNacimiento'][i].anio - 1}}</option>
                        </select>
                      </div>
                    </div>
                  </div>

                  <div class="col-6 viewMobileWidth">
                    <label for="names">Nacionalidad</label>

                    <select formControlName="nationalityCustomer" class="form-select-f">
                      <option value="" selected>Seleccione</option>
                      <option *ngFor="let elem of countries" [value]="elem.Iata">
                        {{ elem.Name }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="row rowMobileCard hideMobile">
                  <div class="col-3 viewMobileWidth">
                    <label for="names">Tipo de documento</label>

                    <select formControlName="typeDocCustomer" class="form-select-f"
                      (change)="onChangeOfficialDocument(i)">
                      <option value="" selected>Seleccione</option>
                      <option value="DNI">DNI</option>
                      <option value="PSP">Pasaporte</option>
                      <option value="CEX">C. Extranjería</option>
                    </select>
                  </div>

                  <div class="col-3 viewMobileWidth">
                    <label>N° de documento</label>

                    <input class="form-control" formControlName="numDocCustomer" maxlength="12" type="text"
                      (keypress)="allowOfficialDocument($event, i)" (paste)="denyPaste($event)"
                      (drop)="denyDrop($event)" name="ndocumento">
                  </div>

                  <div class="col-6 viewMobileWidth">
                    <label for="names">Sexo</label>

                    <div class="optionSel">
                      <div class="form-check form-check-inline optionLeft">
                        <input class="form-check-input sex" formControlName="sexCustomer" value="masculino" type="radio"
                          id="sexMasc{{i}}">
                        <label class="form-check-label" for="sexMasc{{i}}">Masculino</label>
                      </div>

                      <div class="form-check form-check-inline optionRight">
                        <input class="form-check-input sex" formControlName="sexCustomer" value="femenino" type="radio"
                          id="sexFem{{i}}">
                        <label class="form-check-label" for="sexFem{{i}}">Femenino</label>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row rowMobileCard">
                  <div class="col-12 btnMobile">
                    <button class="px-5">Comprar</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- END FORM PASAJEROS -->

        <!-- MEDIO DE PAGO DESKTOP -->
        <div class="row hideViewMobile">
          <div class="col-12 medioPagoMobile">
            <div class="card cardPagoMobile">
              <div class="card-header shadow-none">
                <h2>Selecciona el medio de pago</h2>
                <span>Selecciona tu método de pago (el pago se llevará a cabo una vez presiones el botón
                  pagar
                  al final del formulario).
                </span>
              </div>

              <div class="card-body" formGroupName="paymentMethodForm">
                <!-- OPCIONES DE PAGO -->
                <div class="row card_ py-4 justify-content-evenly cardMob" *ngIf="!mobile">
                  <input *ngFor="let chk of metodoPago" formControlName="select21" value="{{chk.value}}" type="radio"
                    name="select21" id="{{ chk.name }}" (click)="chkValue(chk.name)" [checked]="chk.checked">

                  <label *ngFor="let chk of metodoPago" for="{{ chk.name }}"
                    class="optionm {{chk.name}} col-4 offset-1 py-3 lessMarginLeft boxMob">
                    <div class="dot"></div>
                    <img class="marginL" src="./assets{{ chk.img }}" alt="">
                    <span>{{ chk.text }}</span>
                  </label>
                </div>
                <!-- END OPCIONES DE PAGO -->

                <!-- FORM TARJETA -->
                <div class="boxCardPas" *ngIf="selectedPay === 'tarjeta'; else safety">
                  <div class="row py-5">
                    <div class="col-12 text-center pago">
                      <img src="./assets/comprar/_visa.png" alt="">
                      <img src="./assets/comprar/_master.png" alt="">
                      <img src="./assets/comprar/_american.png" alt="">
                      <img src="./assets/comprar/_dinners.png" alt="">
                    </div>
                  </div>

                  <div class="row card_pasajero rowMobileCard">
                    <div class="col-6 viewMobileWidth">
                      <label>Número de tarjeta</label>

                      <input class="form-control" formControlName="numberCard" mask="0000-0000-0000-0000"
                        placeholder="Ingrese el número de tarjeta." type="text" (blur)="validarTarjeta()">
                    </div>

                    <div class="col-6 viewMobileWidth">
                      <label>Titular de la tarjeta</label>

                      <input class="form-control" formControlName="nameCard" placeholder="El que figura en la tarjeta."
                        (keypress)="allowAlphabetic($event)" (paste)="onPasteAlphabetic($event)"
                        (drop)="denyDrop($event)" type="text">
                    </div>
                  </div>

                  <div class="row card_pasajero rowMobileCard">
                    <div class="col-6 viewMobileWidth">
                      <div class="row">
                        <div class="col-5">
                          <label>Vencimiento</label>

                          <input class="form-control" formControlName="expiredCard" mask="99/99" placeholder="MM/AA"
                            (keypress)="allowNumeric($event)" (paste)="onPasteNumeric($event)" (drop)="denyDrop($event)"
                            type="text">
                        </div>

                        <div class="col-6">
                          <label>Código de seguridad</label>

                          <input class="form-control" formControlName="ccvCard" mask="0*" maxlength="3"
                            (keypress)="allowNumeric($event)" (paste)="onPasteNumeric($event)" (drop)="denyDrop($event)"
                            placeholder="CVC" type="text" autocomplete="false">
                        </div>

                        <div class="col-1 colBoxInfo">
                          <div class="iconInfo toolTip">
                            <img src="./assets/comprar/card/info.png" alt="">
                            <div class="boxTooltip2">
                              <div class="descripTooltip">El código de seguridad esta localizado en los 3 últimos
                                dígitos detras de tu tarjeta
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-6 viewMobileWidth">
                      <div class="row">
                        <div class="col-5">
                          <label>Tipo de doc</label>
                          <select formControlName="tipoDoc" class="form-select-f"
                            (change)="onChangeOfficialDocument(99)">
                            <option value="" selected>Seleccione</option>
                            <option value="DNI">DNI</option>
                            <option value="PSP">Pasaporte</option>
                            <option value="CEX">C. Extranjería</option>
                          </select>
                        </div>

                        <div class="col-7">
                          <label for="lastname">N° de documento</label>
                          <input class="form-control" formControlName="numDoc" placeholder="Ingresar N°" type="text"
                            (keypress)="allowOfficialDocument($event, 99)" (paste)="denyPaste($event)"
                            (drop)="denyDrop($event)" maxlength="12">
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row card_pasajero rowMobileCard">
                    <div class="col-6 viewMobileWidth">
                      <label>Cuotas</label>
                      <select formControlName="feePay" class="form-select-f">
                        <option value="" selected>Seleccione</option>
                        <option value="0">Sin cuotas</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                      </select>
                    </div>

                    <div class="col-6 viewMobileWidth">
                      <label for="lastname">Ciudad de facturación</label>

                      <input class="form-control" formControlName="cityCard" placeholder="Del titular de la tarjeta."
                        (keypress)="allowAlphabetic($event)" (paste)="onPasteAlphabetic($event)"
                        (drop)="denyDrop($event)" type="text" name="lastname">
                    </div>
                  </div>

                  <div class="row card_pasajero rowMobileCard pb-sm-4">
                    <div class="col-12 viewMobileWidth">
                      <label for="names">Dirección</label>

                      <input class="form-control" formControlName="address" placeholder="Ingrese la dirección"
                        type="text" name="names">
                    </div>

                    <!-- <div class="col-6 textDire viewMobileWidth">
                      <label for="names"></label>
                      <div>Emisión en max 24hrs aprox.</div>
                    </div> -->
                  </div>
                </div>
                <!-- END FORM TARJETA -->

                <ng-template #safety>
                  <!-- WEB -->
                  <div class="col-5 offset-1 py-3 textSafMob">
                    <p class="textSafety">Seleccione una opción para pagar</p>
                  </div>

                  <!-- OPCIONES SAFETYPAY -->
                  <div class="row btnSafe">
                    <div class="col-5 viewMobileWidth">
                      <a class="btnBlue" [class.active]="id === 'banca'" value="true"
                        (click)="optionPay($event, true, 'banca');">Banca por internet o Móvil
                      </a>
                    </div>

                    <div class="col-5 viewMobileWidth">
                      <a class="btnBlue" value="false" [class.active]="id === 'movil'"
                        (click)="optionPay($event, false,'movil')">Agencias/Agentes</a>
                    </div>
                  </div>
                  <!-- END OPCIONES SAFETYPAY -->

                  <!-- BANCA POR INTERNET -->
                  <ng-container *ngIf="banca; else agencia">
                    <div class="row boxAgencia">
                      <div class="d-flex justify-content-center imgBanca">
                        <img src="./assets/comprar/pago/_bcp.png" alt="">
                        <img src="./assets/comprar/pago/_scotiabank.png" alt="">
                        <img src="./assets/comprar/pago/_interbank.png" alt="">
                        <img src="./assets/comprar/pago/_bbva.png" alt="">
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-6 offset-3 py-4 lessViewMob">
                        <select formControlName="bankPay" class="selectBank form-select-f" (change)="onchangeBanco()"
                          [ngClass]="{isvalid : validatePaymentMethodForm('bankPay')}">

                          <option value="" selected>Selecciona tu banco</option>
                          <option *ngFor="let elem of banks" value="{{elem.value}}">
                            {{ elem.name }}
                          </option>
                        </select>

                        <span class="valid" *ngIf="validatePaymentMethodForm('bankPay')">
                          Selecciona el banco
                        </span>
                      </div>
                    </div>

                    <div class="row py-4 marginLat">
                      <div class="col-6">
                        <span
                          style="font-family: Montserrat; font-weight: 600; font-size: 14px; line-height: 21px; letter-spacing: 0.1px; color: #df0c30;">Emisión
                          automática después del pago.</span>
                      </div>
                      <div class="col-6 text-end">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#ModalBlue">¿Como pagar con SafetyPay
                          online?</a>
                      </div>
                    </div>

                    <div class="row boxLimite">
                      <div class="titleLimite">
                        Tiempo Límite
                      </div>
                      <div class="descripLimite">
                        Recuerda que una vez generado tu código safetypay, deberás pagar dentro de las
                        <strong>próximas 2 horas</strong>. De lo contrario la reserva será cancelada.
                      </div>
                    </div>
                  </ng-container>
                  <!-- END BANCA POR INTERNET -->

                  <!-- AGENCIAS/AGENTES -->
                  <ng-template #agencia>
                    <div class="row boxAgencia">
                      <div class="d-flex justify-content-center imgBanca">
                        <img src="./assets/comprar/pago/_bcp.png" alt="">
                        <img src="./assets/comprar/pago/_scotiabank.png" alt="">
                        <img src="./assets/comprar/pago/_interbank.png" alt="">
                        <img src="./assets/comprar/pago/_bbva.png" alt="">
                        <img src="./assets/comprar/pago/_wester.png" alt="">
                      </div>

                      <div class="d-flex justify-content-center imgBanca">
                        <img src="./assets/comprar/pago/_arequipa.png" alt="">
                        <img src="./assets/comprar/pago/_huancayo.png" alt="">
                        <img src="./assets/comprar/pago/_trujillo.png" alt="">
                        <img src="./assets/comprar/pago/_tacna.png" alt="">
                        <img src="./assets/comprar/pago/_tambo.png" alt="">
                      </div>

                      <div class="row">
                        <div class="col-12 text-end mb-3">
                          <a href="#">¿Como pagar con SafetyPay online?</a>
                        </div>
                      </div>

                      <div class="row boxLimite">
                        <div class="titleLimite">
                          Tiempo Límite
                        </div>
                        <div class="descripLimite">
                          Recuerda que una vez generado tu código safetypay, deberás pagar dentro de las
                          <strong>próximas 2 horas</strong>. De lo contrario la reserva será cancelada.
                        </div>
                      </div>
                    </div>
                  </ng-template>
                  <!-- END AGENCIAS/AGENTES -->
                </ng-template>

              </div>
            </div>
          </div>
        </div>
        <!-- END TIPO DE PAGO -->

        <!-- TRANSACCIÓN SEGURA -->
        <div class="contentSecuritySeg hideViewMobile mb-sm-3">
          <div class="rowContent vermovil">
            <div>
              <img src="./assets/perfil/security.png" alt="">
            </div>

            <div class="rowContent">
              <div class="title">
                Transacción segura
              </div>
              <div class="subtitle">
                Sitio seguro utilizamos conexiones seguras para ti
              </div>
            </div>
          </div>
        </div>
        <!-- END TRANSACCIÓN SEGURA -->

        <!-- FORM CONTACT DESKTOP-->
        <div class="row hideViewMobile">
          <div class="col-12">
            <div class="card">
              <div class="card-header shadow-none" (click)="showDataContact()">
                <h2>Datos de contacto
                  <img class="iconFlechaSup" [class.activeIcon]="!showDataContacto"
                    src="./assets/comprar/flecha-top.png" alt="">
                </h2>
                <span>Ingresa tus datos actualizados, este se utilizará para avisarte en caso de cambios
                  en el itinerario.
                </span>
              </div>

              <div formGroupName="contactForm" class="card-body card_pasajero boxHideM shadow-none"
                [class.activoBoxContact]="!showDataContacto">

                <div class="row rowMobileCard">
                  <div class="col-6 viewMobileWidth">
                    <label>Nombres</label>

                    <input class="form-control" #nameContactForm placeholder="Ingresa tu(s) nombre(s)"
                      [ngClass]="{isvalid : validateContactForm('nameContacto')}" formControlName="nameContacto"
                      type="text" value="" name="names" (click)="startContactDetails()">

                    <span class="valid" *ngIf="validateContactForm('nameContacto')">
                      Ingresa tus nombres de contacto
                    </span>
                  </div>

                  <div class="col-6 viewMobileWidth">
                    <label for="lastname">Apellidos</label>

                    <input class="form-control" #lastNameContactForm placeholder="Ingresa tus apellidos"
                      [ngClass]="{isvalid : validateContactForm('lastnameContacto')}" formControlName="lastnameContacto"
                      type="text" name="lastname">

                    <span class="valid" *ngIf="validateContactForm('lastnameContacto')">
                      Ingresa tus apellidos de contacto
                    </span>
                  </div>
                </div>

                <div class="row rowMobileCard">
                  <div class="col-6 viewMobileWidth">
                    <label for="Email">Email</label>

                    <input class="form-control" placeholder="Ingresa tu email de contacto"
                      [ngClass]="{isvalid : validateContactForm('mailContacto')}" formControlName="mailContacto"
                      type="text">

                    <span class="valid" *ngIf="validateContactForm('mailContacto')">
                      {{ contactEmailErrorMessage }}
                    </span>
                  </div>

                  <div class="col-6 viewMobileWidth">
                    <label for="EmailC">Confirma tu email</label>

                    <input class="form-control" formControlName="mailConfirmContacto"
                      [ngClass]="{isvalid : validateContactForm('mailConfirmContacto')}"
                      placeholder="Ingresa el mismo email" type="text">

                    <span class="valid" *ngIf="validateContactForm('mailConfirmContacto')">
                      Ingresa el mismo email
                    </span>
                  </div>
                </div>

                <div class="row rowMobileCard">
                  <div class="col-6 viewMobileWidth">
                    <label for="typePhone0">Tipo de teléfono</label>

                    <select formControlName="typePhone0" class="form-select-f"
                      [ngClass]="{isvalid : validateContactForm('typePhone0')}">
                      <option value="1">Fijo</option>
                      <option value="2">Celular</option>
                    </select>

                    <span class="valid" *ngIf="validateContactForm('typePhone0')">
                      Selecciona el tipo de teléfono
                    </span>
                  </div>

                  <div class="col-6 viewMobileWidth">
                    <div class="row">
                      <div class="col-5 width110">
                        <label for="code0">Código de país</label>

                        <div class="iconBandera">
                          <svg width="29" height="28" viewBox="0 0 29 28" fill="none" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink">
                            <mask id="mask0" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="1" y="1" width="27"
                              height="27">
                              <path
                                d="M27.5 14.1001C27.5 21.0449 21.694 26.7002 14.5 26.7002C7.30602 26.7002 1.5 21.0449 1.5 14.1001C1.5 7.15532 7.30602 1.5 14.5 1.5C21.694 1.5 27.5 7.15532 27.5 14.1001Z"
                                fill="#C4C4C4" stroke="#E4E5E7" />
                            </mask>
                            <g mask="url(#mask0)">
                              <rect x="-4.40002" y="1" width="37.8" height="26.2002" fill="url(#pattern0)" />
                            </g>
                            <path
                              d="M14.5 27.4502C22.0849 27.4502 28.25 21.5268 28.25 14.2002C28.25 6.87361 22.0849 0.950195 14.5 0.950195C6.91506 0.950195 0.75 6.87361 0.75 14.2002C0.75 21.5268 6.91506 27.4502 14.5 27.4502Z"
                              stroke="#E4E5E7" stroke-width="0.5" />
                            <defs>
                              <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
                                <use xlink:href="#image0"
                                  transform="translate(-0.0198452) scale(0.0038507 0.00555556)" />
                              </pattern>
                              <image id="image0" width="270" height="180"
                                xlink:href="data:image/png;base64,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" />
                            </defs>
                          </svg>
                        </div>

                        <input type="text" formControlName="code0" class="form-control"
                          [ngClass]="{isvalid : validateContactForm('code0')}" placeholder="">

                        <span class="valid" *ngIf="validateContactForm('code0')">
                          Selecciona el código de país
                        </span>
                      </div>

                      <div class="col-7">
                        <label for="numberPhone0">Número de teléfono</label>

                        <input type="text" formControlName="numberPhone0" maxlength="10" class="form-control"
                          [ngClass]="{isvalid : validateContactForm('numberPhone0')}" placeholder="Ingresa N°">

                        <span class="valid" *ngIf="validateContactForm('numberPhone0')">
                          Ingresa tu número de teléfono
                        </span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row rowMobileCard" *ngIf="showInvoiceData">
                  <div class="col-4 viewMobileWidth">
                    <label for="ruc">RUC N°</label>
                    <input type="text" formControlName="ruc" class="form-control"
                      [ngClass]="{isvalid : validateContactForm('ruc')}" placeholder="Ingresa N° de Ruc">

                    <span class="valid" *ngIf="validateContactForm('ruc')">
                      {{ contactRUCErrorMessage }}
                    </span>
                  </div>

                  <div class="col-8 viewMobileWidth">
                    <label for="ruc">Razón social</label>
                    <input type="text" formControlName="razonSocial" class="form-control"
                      [ngClass]="{isvalid : validateContactForm('razonSocial')}" placeholder="Ingresa la razón social">

                    <span class="valid" *ngIf="validateContactForm('razonSocial')">
                      Ingresa la razón social
                    </span>
                  </div>

                  <div class="col-12 viewMobileWidth">
                    <label for="direccion">Dirección</label>
                    <input formControlName="direccion" class="form-control"
                      [ngClass]="{isvalid : validateContactForm('direccion')}" placeholder="Ca. / Jr. / Av.">

                    <span class="valid" *ngIf="validateContactForm('direccion')">
                      Ingresa una dirección
                    </span>
                  </div>
                </div>

                <div class="row rowMobileCard">
                  <div class="col-6 viewMobileWidth">
                    <div class="form-check">
                      <input class="form-check-input" formControlName="invoiceRequestBox" type="checkbox"
                        [checked]="showInvoiceData" (change)="showInvoiceData = !showInvoiceData"
                        id="invoiceRequestBox">

                      <label class="form-check-label" for="invoiceRequestBox">Solicitar
                        factura</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-12 ">
            <div class="checkPopup shadow-none">
              <div class="row rowMobileCard">
                <div class="col-6 viewMobileWidth pe-0">
                  <div class="form-check form-check-inline me-0">
                    <input class="form-check-input" type="checkbox" formControlName="chkPolity" id="chkPolity"
                      value="option1">

                    <label class="form-check-label" for="chkPolity">He leído y acepto las
                      <a class="linkBlue" data-bs-toggle="modal" data-bs-target="#politicaModal">políticas de
                        protección
                        de datos personales.
                      </a>
                    </label>
                  </div>

                  <span class="valid" *ngIf="validateInsuranceForm('chkPolity')">
                    Debe de aceptar las póliticas de porotección de datos personales.
                  </span>
                </div>

                <div class="col-6 viewMobileWidth tex-end">
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" formControlName="chkInfo" id="chkInfo"
                      value="option1">

                    <label class="form-check-label" for="chkInfo">Autorizo el uso de mi Información
                      para la publicidad.</label>
                  </div>

                  <span class="valid" *ngIf="validateInsuranceForm('chkInfo')">
                    Debe de aceptar el uso de su información para la publicidad.
                  </span>
                </div>
              </div>

              <div class="row">
                <div class="col-12 footerLink mt-md-4 mb-md-5">
                  Al realizar esta compra, acepto los
                  <a class="linkBlue" routerLink="/terminos-condiciones" target="_blank">&nbsp;términos y condiciones
                    de
                    compra</a>,
                  <a class="linkBlue" data-bs-toggle="modal" data-bs-target="#reservaModal">&nbsp;condiciones de
                    reserva&nbsp;</a> y
                  <a class="linkBlue" routerLink="/documentacion-viaje" target="_blank">&nbsp;documentación de
                    viaje</a>.
                </div>
              </div>
            </div>
          </div>

          <!-- <pre>Validaciones de formularios</pre>

          <pre>FormShop valid: {{ formShop.valid }}</pre>
          <pre>FormShop values</pre>
          <pre>{{ formShop.value | json }}</pre>

          <pre>PaymentMethodForm valid: {{ paymentMethodForm.valid }}</pre>
          <pre>PaymentMethodForm values</pre>
          <pre>{{ paymentMethodForm.value | json }}</pre>

          <pre>ContactForm valid: {{ contactForm.valid }}</pre>
          <pre>ContactForm values</pre>
          <pre>{{ contactForm.value | json }}</pre>

          <pre>ruc errors</pre>
          <pre>{{ contactForm.controls.ruc.errors | json }}</pre>
          <pre>direccion errors</pre>
          <pre>{{ contactForm.controls.direccion.errors | json }}</pre> -->

          <div class="boxHelp" *ngIf="replyMessage.length > 0">
            <div class="iconArrow"><img src="./assets/svg/arrow-left.svg" alt=""></div>
            <div class="descrip">{{replyMessage}}</div>
          </div>

          <div class="row rowMobileCard ">
            <div class="col-12 contentCenterMobile">
              <button [disabled]="pressedToBuy" id="btnComprar2" (click)="buyInsurance()" class="px-5">Comprar</button>
            </div>
          </div>
        </div>
        <!-- END FORM CONTACT -->
      </div>
      <!-- END IZQUIERDA -->

      <!-- DERECHA -->
      <div class="col-4 viewMobileWidth order-0 order-md-0 hideViewMobile">
        <h2 class="titleMob">Detalle de tu pago</h2>
        <!-- ACORDION SEGUROS -->
        <div class="accordion">
          <div class="accordion-item">
            <h2 class="accordion-header">
              <a class="accordion-button" (click)="showVerDetalle()">
                Ver detalles
                <img src="./assets/footer/flecha.png" alt="" class="iconFlecha">
              </a>
            </h2>

            <div *ngIf="showDetalle == true">
              <div class="accordion-body">
                <div class="row" *ngFor="let elem of safe0Json.tarifario">
                  <div class="col-6">
                    <span class="textAcor">Pasajero de {{elem.Edad}} años</span>
                  </div>
                  <div class="col-6 text-end">
                    <span class="price_new">US$ {{elem.precioEmisionLocal}}</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="row totalItem">
              <div class="col-7">
                <span class="price_end">TOTAL A PAGAR</span>
              </div>

              <div class="col-5 text-end">
                {{safe0Json?.monedaLista === 'USD' ? 'US$' : 'PEN'}}
                <span class="price_end_number">{{ totalToPay }}</span>
              </div>
            </div>
          </div>
        </div>
        <!-- END ACORDION SEGUROS -->

        <!-- DETALLE DE COBERTURA -->
        <h2 *ngIf="safe0Json.detalleCobertura" class="titleCobertura mt-3">Detalle de cobertura</h2>
        <!-- END DETALLE DE COBERTURA -->

        <!-- COBERTURA -->
        <div *ngIf="safe0Json.detalleCobertura && resultJson" class="order-0">
          <!-- <app-coverage [txtPlan]="safe0Json?.nombreProducto" [txtDias]="resultJson?.days" [asistenciaMedica]="coverage.Valor" [txtOrigen]=""
                        [txtDestino]="resultJson?.destinyString.descripcion_destino" [txtSalida]="resultJson?.fromDate" [txtRegreso]="resultJson?.toDate"
                        [txtPasajeros]="resultJson?.passengers?.length +1" [plan]="safe0Json"></app-coverage> -->
          <app-coverage [txtPlan]="safe0Json?.nombreProducto" [txtDias]="resultJson?.days" [txtOrigen]=""
            [txtDestino]="resultJson?.destinyString.descripcion_destino" [txtSalida]="resultJson?.fromDate"
            [txtRegreso]="resultJson?.toDate" [txtPasajeros]="resultJson?.passengers.length" [plan]="safe0Json">
          </app-coverage>
        </div>
        <!-- END COBERTURA -->
      </div>
      <!-- END DERECHA -->
    </div>
    <!-- END VERSION DESKTOP -->
  </form>
</div>

<!-- MODAL BLUE-->
<div class="modal fade" id="ModalBlue" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content red">
      <div class="modal-header">
        <div class="modal-title" id="exampleModalLabel">¿Cómo pagar con SafetyPay?</div>
        <div class="modal-subtitle" id="exampleModalLabel">Agencias/Agentes</div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="contentRow centerCont">
        <div class="circleSafety">
          <img src="./assets/comprar/modal/safety.png" alt="">
        </div>
      </div>
      <div class="modal-body">

        <div class="rowModal py-4">
          <div class="columnModal inputCheck" [class.activo]="selectedPopup === 'agencia'">
            <input type="radio" name="select" id="option1" (click)="chkValuePopup($event)">
            <label for="option1" id="flexRadioDefault1" class="option1">
              <div class="dot"></div>
              <span>Agencias</span>
            </label>
          </div>
          <div class="columnModal inputCheck" [class.activo]="selectedPopup === 'agente'">
            <input type="radio" name="select" id="option2" (click)="chkValuePopup($event)">
            <label for="option2" id="flexRadioDefault1" class="option2">
              <div class="dot"></div>
              <span>Agentes</span>
            </label>
          </div>
        </div>
        <div class="rowModal viewModal" *ngIf="selectedPopup === 'agencia'">
          <div class="columnModal colCenter">
            <div class="headPaso">
              <div class="number">1</div>
            </div>
            <div class="textPaso">Acércate a cualquier agencia afiliada.</div>
          </div>
          <div class="columnModal colCenter">
            <div class="headPaso">
              <div class="number">2</div>
            </div>
            <div class="textPaso">Indica que realizarás un pago al servicio “SafetyPay” con el codigo de pago y el monto
              exacto a pagar.</div>
          </div>
          <div class="columnModal colCenter">
            <div class="headPaso">
              <div class="number">3</div>
            </div>
            <div class="textPaso">Recibe tu comprobante y ¡listo!</div>
          </div>
        </div>
        <div class="rowModal viewModal" *ngIf="selectedPopup === 'agente'">
          <div class="columnModal colCenter">
            <div class="headPaso">
              <div class="number">1</div>
            </div>
            <div class="textPaso">Acércate a cualquier agencia afiliada.</div>
          </div>
          <div class="columnModal colCenter">
            <div class="headPaso">
              <div class="number">2</div>
            </div>
            <div class="textPaso">Menciona el código de empresa o banco de su selección</div>
          </div>
          <div class="columnModal colCenter">
            <div class="headPaso">
              <div class="number">3</div>
            </div>
            <div class="textPaso">indica el código de pago y el monto a pagar exacto y ¡listo!</div>
          </div>
        </div>
      </div>
      <!-- <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div> -->
    </div>
  </div>
</div>

<!-- MODAL POLITICA DE PROTECCION -->
<div class="modal fade" id="politicaModal" tabindex="-1" aria-labelledby="politicaModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <div class="titleMod">Política de Protección y Tratamiento de Datos Personales</div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body text-justify">
        <p>
          <strong>En cumplimiento de la Ley N° 29733 – Ley de Protección de Datos Personales- y su Reglamento
            N° 003-2013-JUS</strong>, autorizo y otorgo a Promotora de Turismo Nuevo Mundo S.A.C. . (en adelante Nuevo
          Mundo Viajes), de manera indefinida, mi consentimiento libre, previo, expreso, inequívoco e informado para que
          (por
          sí mismo o a travé s de terceros): Recopile, de tratamiento o suprima, transfiera o importe, exporte mis datos
          personales, para elaborar Bases de Datos, transferirlas a terceras personas vinculadas o no a Nuevo Mundo
          Viajes (sean socios
          comerciales o no, nacionales o extranjeros, pú blicos o privados) con la finalidad de:
        </p>

        <ul class="listModal">
          <li>Cumplir con la prestación de los servicios turísticos contratados: programación y reserva de vuelos,
            paquetes turí sticos, reserva de hoteles, programación de itinerarios; así como servicios de alquiler de
            autos y seguros, entre otros.</li>
          <li>Contactar con el cliente antes y durante la prestación de los servicios turísticos contratados a fin de
            responder dudas, consultas y solicitudes.</li>
          <li>Enviar información relativa a la naturaleza del servicio y/o disposiciones de obligatorio conocimiento y
            cumplimiento durante el servicio o paquete turístico adquirido, como las condiciones de contratación y/u
            otras condiciones dentro
            de las que podrían incluirse políticas internas de la empresa.</li>
        </ul>
        <p>Los datos personales que usted nos proporcione, serán almacenados en los bancos de datos descrito en el
          <strong>anexo 2</strong>.
        </p>
        <p>He sido informado que:
          <br> Si no otorgo este consentimiento, mi información solo será utilizada (tratada) para la ejecución
          (desarrollo) y cumplimiento del servicio que contrate, podré revocar, en cualquier momento mi consentimiento,
          comunicando mi decisión
          por escrito en cualquiera de las oficinas de Nuevo Mundo Viajes, la cual no afectará el uso de mis datos ni el
          contenido de las Bases de Datos para la ejecución y cumplimiento de la transacción que celebre con ustedes,
          podré ejercer
          mis derechos de acceso, rectificación, cancelación y oposición de mis datos de acuerdo a la legislación
          vigente.
        </p>

        <p>Mayor información sobre la política de protección y tratamiento de datos
          <a routerLink="/politicas" target="_blank">aquí.</a>
        </p>
      </div>
    </div>
  </div>
</div>

<!-- MODAL CONDICIONES DE RESERVA -->
<div class="modal fade" id="reservaModal" tabindex="-1" aria-labelledby="reservaModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <div class="titleMod">Condiciones de Reserva de tu Vuelo</div>
        <div class="d-flex">
          <svg width="19" height="7" viewBox="0 0 19 7" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9.5834 7L0 0H19L9.5834 7Z" fill="white" />
          </svg>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="titleModal">
          ESTA TARIFA ES
        </div>
        <ul class="listModal">
          <li>No reembolsable</li>
          <li>No permite cambios</li>
        </ul>
        <div class="subtitleMod">
          Tarifa sujeta a cambios hasta el momento de emisión
        </div>
        <p>
          <strong>Recomendación :</strong>
        </p>

        <p>Los cambios de nombres NO están permitidos, revise los nombres y apellidos de los pasajeros deben coincidir
          con la documentación que presenten en el aeropuerto el día del vuelo. Si los datos del boleto electrónico, no
          coinciden, las aerolíneas
          y/o proveedores podrán negar el derecho a embarque o uso del servicio.
        </p>
      </div>
    </div>
  </div>
</div>

<!-- MODAL COBERTURA -->
<div class="modal fade" id="ModalCoverageI" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="exampleModalLabel">{{safe0Json?.producto}} - {{safe0Json?.precioEmisionLocal |
          currency : 'USD'}}
        </h2>
        <h5 class="modal-subtitle" id="exampleModalLabel">Asistencia médica: {{ asistMedic }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" *ngIf="!coverageL">
        <div class="row">
          <p class="text">!Cargando Cobertura¡</p>
          <mat-spinner color="warn"></mat-spinner>
        </div>
      </div>
      <div class="modal-body" *ngIf="coverageL">
        <div class="row">
          <div class="col-12">
            <div class="d-flex py-3">
              <img src="./assets/seguros/covid.png" alt="">
              <div class="px-2">
                <span class="covid">COBERTURA</span>
                <span class="covid">COVID</span>
              </div>
            </div>
          </div>
        </div>
        <div class="row scrollBody">
          <div class="col-10 offset-1">
            <table class="table-bordered w-100">
              <tbody *ngIf="coverageL">
                <tr class="row" *ngFor="let text of coverageL['Resultado']">
                  <td class="col d-flex align-items-center">
                    <strong>{{ text?.Valor }}</strong>
                  </td>
                  <td class="col">{{ text?.NombreVisible}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>