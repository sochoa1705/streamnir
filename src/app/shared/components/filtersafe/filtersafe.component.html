<form class="bg-white filtroBox" [formGroup]="insuranceQuoteForm" novalidate>
  <div class="container bg-white">
    <!-- COMBOS -->
    <div class="row filter espaciado versionMobile divPasMov">
      <div class="divPas">
        <!-- PASAJEROS -->
        <div class="boxFlotante seguro" [hidden]="!showPassengerBox">
          <div formArrayName="passengers">
            <div [formGroupName]="i" *ngFor="let pass of passengers.controls; let i = index"
              class="boxTwoPasajero d-flex flex-row align-items-center p-2">
              <div class="d-flex flex-row flex-column w-100">
                <div class="d-flex flex-row text1">
                  <img src="./assets/filter/icon-user.png" alt=""> Pasajero {{i + 1}}
                </div>
              </div>
              <div class="d-flex flex-row number">
                <div class="d-flex flex-row textBtn">
                  <input formControlName="edad" class="inputEdadPasajero" type="text" placeholder="Edad" maxlength="2"
                    (keypress)="allowNumeric($event)" (paste)="onPasteNumeric($event)" (drop)="denyDrop($event)"
                    [ngClass]="getMessage(MSG_CUSTOMERS) != MSG_EMPTY ? 'isvalid' : ''">
                </div>

                <div class="d-flex flex-row jus justify-content-end align-items-center opcionBtn">
                  <img (click)="deletePassenger(i)" src="./assets/filter/delete.png" alt="">
                </div>
              </div>
            </div>
          </div>
          <div class="d-flex flex-row justify-content-between align-items-center p-2 btnPasajero">
            <button class="Agregar" [disabled]="limitePassenger" type="button" (click)="addPassenger()">+ Agregar
              pasajero</button>
            <button type="button" (click)="confirmPassengers()">Listo</button>
          </div>
        </div>
        <div class="groupPasajero">
          <button class="customers w-130" [ngClass]="(getMessage(MSG_CUSTOMERS) != MSG_EMPTY) ? 'text-red' : 'Omac'"
            (click)="showPassengerBox=!showPassengerBox">
            {{limit}} Pasajero(s)
          </button>
          <div class="boxHelp">
            <div class="iconArrow"><img src="./assets/svg/arrow-left.svg" alt=""></div>
            <div class="descrip">Ingresa aquí la información de los pasajeros</div>
          </div>
        </div>
      </div>

      <div class="selectDestino">
        <div class="iconBandera">
          <svg width="29" height="28" viewBox="0 0 29 28" fill="none" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink">
            <mask id="mask0" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="1" y="1" width="27" height="27">
              <path
                d="M27.5 14.1001C27.5 21.0449 21.694 26.7002 14.5 26.7002C7.30602 26.7002 1.5 21.0449 1.5 14.1001C1.5 7.15532 7.30602 1.5 14.5 1.5C21.694 1.5 27.5 7.15532 27.5 14.1001Z"
                fill="#C4C4C4" stroke="#E4E5E7" />
            </mask>
            <g mask="url(#mask0)">
              <rect x="-4.40002" y="1" width="37.8" height="26.2002" fill="url(#pattern0)" />
            </g>
            <path
              d="M14.5 27.4502C22.0849 27.4502 28.25 21.5268 28.25 14.2002C28.25 6.87361 22.0849 0.950195 14.5 0.950195C6.91506 0.950195 0.75 6.87361 0.75 14.2002C0.75 21.5268 6.91506 27.4502 14.5 27.4502Z"
              stroke="#E4E5E7" stroke-width="0.5" />
            <defs>
              <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
                <use xlink:href="#image0" transform="translate(-0.0198452) scale(0.0038507 0.00555556)" />
              </pattern>
              <image id="image0" width="270" height="180"
                xlink:href="data:image/png;base64,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" />
            </defs>
          </svg>
        </div>
        <select class="form-select selectSeguro" aria-label="Default select example">
          <option selected>PE</option>
        </select>
      </div>
    </div>
    <!-- END COMBOS -->

    <!-- FILTROS -->
    <div class="portletFiltro">
      <div class="rowFiltro">
        <!-- ORIGEN -->
        <div class="columnFiltro flexCero width110 boxHideM">
          <div class="iconBandera">
            <img src="./assets/_peru.png" alt="">
          </div>
          <select class="form-select marginRight10 selectSeguro" formControlName="origenSafe"
            aria-label="Default select example">
            <option selected value="510">PE</option>
          </select>
        </div>
        <!-- END ORIGEN -->

        <!-- DESTINO -->
        <div class="columnFiltro narginColumn">
          <input type="hidden" value="">
          <select #destino [ngClass]="getMessage(MSG_DESTINO) != MSG_EMPTY ? 'isvalid' : ''"
            class="form-select selectSeguro" formControlName="destinoSafe" aria-label="Default select example" required>
            <option disabled selected>Destino</option>
            <option *ngFor="let o of options" value="{{o.ref_assistcard}}">{{o.descripcion_destino}}</option>
          </select>
        </div>
        <!-- END DESTINO -->

        <!-- OCULTAR CAMPO -->
        <div class="columnFiltro hideColumn">
          <input mask="d0/M0/0*" maxlength="11" name="datepicker" ngbDatepicker #datepicker="ngbDatepicker"
            [footerTemplate]="footerTemplate" [autoClose]="'outside'" (dateSelect)="onDateSelection($event)"
            [displayMonths]="2" [dayTemplate]="t" outsideDays="hidden" [startDate]="fromDate!" tabindex="-1">
          <ng-template #t let-date let-focused="focused">
            <span class="custom-day" [class.focused]="focused" [class.range]="isRange(date)"
              [class.faded]="isHovered(date) || isInside(date)" (mouseenter)="hoveredDate = date"
              (mouseleave)="hoveredDate = null">
              {{ date.day }}
            </span>
          </ng-template>
          <ng-template #footerTemplate>
            <div class="btnDatePicker">
              <hr class="my-0">
              <button (click)="datepicker.close()">Listo</button>
            </div>
          </ng-template>
        </div>
        <!-- END OCULTAR CAMPO -->

        <!-- SOLO IDA -->
        <div class="columnFiltro onlyDate" *ngIf="selected === 'ida'">
          <div class="iconCalendar">
            <svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M16.7425 2.90918H5.28791C3.17918 2.90918 1.46973 4.61864 1.46973 6.72736V16.2728C1.46973 18.3815 3.17918 20.091 5.28791 20.091H16.7425C18.8512 20.091 20.5606 18.3815 20.5606 16.2728V6.72736C20.5606 4.61864 18.8512 2.90918 16.7425 2.90918Z"
                stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M7.19678 1V4.81818" stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M14.8335 1V4.81818" stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M1.46973 8.63647H20.5606" stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
            </svg>

          </div>
          <input mask="d0/M0/0*" maxlength="11" class="form-control" (click)="d.toggle()" placeholder="Salida" name="dp"
            [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker">
        </div>
        <!-- END SOLO IDA -->

        <!-- IDA Y VUELTA -->
        <div class="columnFiltro" *ngIf="selected === 'idavuelta'">
          <div class="iconCalendar">
            <svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M16.7425 2.90918H5.28791C3.17918 2.90918 1.46973 4.61864 1.46973 6.72736V16.2728C1.46973 18.3815 3.17918 20.091 5.28791 20.091H16.7425C18.8512 20.091 20.5606 18.3815 20.5606 16.2728V6.72736C20.5606 4.61864 18.8512 2.90918 16.7425 2.90918Z"
                stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M7.19678 1V4.81818" stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M14.8335 1V4.81818" stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M1.46973 8.63647H20.5606" stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </div>
          <input mask="d0/M0/0*" maxlength="11" #dpFromDate autocomplete="off"
            [ngClass]="getMessage(MSG_OUTFLY) != MSG_EMPTY ? 'isvalid' : ''" formControlName="fromDate"
            class="form-control inputDer" (click)="datepicker.toggle()" placeholder="Salida" name="start"
            [value]="formatter.format(fromDate)" (input)="fromDate = validateInput(fromDate, dpFromDate.value)">
        </div>

        <div class="columnFiltro narginColumn" *ngIf="selected === 'idavuelta'">
          <div class="iconCalendar">
            <svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M16.7425 2.90918H5.28791C3.17918 2.90918 1.46973 4.61864 1.46973 6.72736V16.2728C1.46973 18.3815 3.17918 20.091 5.28791 20.091H16.7425C18.8512 20.091 20.5606 18.3815 20.5606 16.2728V6.72736C20.5606 4.61864 18.8512 2.90918 16.7425 2.90918Z"
                stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M7.19678 1V4.81818" stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M14.8335 1V4.81818" stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M1.46973 8.63647H20.5606" stroke="#009AED" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </div>
          <input mask="d0/M0/0*" maxlength="11" autocomplete="off" #dpToDate formControlName="toDate"
            class="form-control inputIzq" (click)="datepicker.toggle()" placeholder="Vuelta" name="dpToDate"
            [ngClass]="getMessage(MSG_INFLY) != MSG_EMPTY ? 'isvalid' : ''" [value]="formatter.format(toDate)"
            (input)="toDate = validateInput(toDate, dpToDate.value)">
        </div>
        <!-- END IDA Y VUELTA -->

        <!-- BOTON -->
        <div class="columnButton">
          <button type="submit" (click)="quoteNow()">Cotizar Ahora</button>
        </div>
        <!-- END BOTON -->
      </div>
    </div>
    <!-- END FILTROS -->
  </div>
</form>