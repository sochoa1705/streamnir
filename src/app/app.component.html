<router-outlet></router-outlet>

<app-login></app-login>

<app-forgot-password></app-forgot-password>

<!-- Modal Create Account-->
<div class="modal" style="display: none;" aria-hidden="true" data-backdrop="false" id="ModalNewAccount" tabindex="-1"
  aria-labelledby="modalNewAccountLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content ">
      <div class="recoveryLeft ">
        <div class="titleRecovery ">¡Únete a NMViajes y recibe nuestras ofertas exclusivas!</div>
        <img src="./assets/modal/logo-white.png " alt=" ">
      </div>
      <div class="recoveryRight ">
        <div class="modal-header">
          <button type="button" #closeModalNewAccount class="btn-close" data-bs-dismiss="modal"
            aria-label="Close"></button>
        </div>
        <div class="titleRecovery">Crear cuenta</div>
        <div class="socialMedia" [class.active]="socialMedia">
          <div class="btnFacebook">
            <img src="./assets/modal/facebook-logo.png" alt="">Regístrate con Facebook
          </div>
          <div class="btnGoogle">
            <img src="./assets/modal/google-logo.png" alt="">Regístrate con Google
          </div>
        </div>

        <mat-tab-group mat-align-tabs="center" (selectedTabChange)="showSocialMedia($event)">
          <!-- PERSONAL -->
          <mat-tab label="Personal">
            <form name="personalAccountForm" [formGroup]="personalAccountForm" autocomplete="false">

              <div class="elementRow">
                <div class="divValida" [ngClass]="{error : validatePersonalAccountForm('firstName')}">
                  <input type="text" class="form-control" formControlName="firstName" placeholder="Nombres">

                  <div class="textError" *ngIf="validatePersonalAccountForm('firstName')">
                    Ingresa tu(s) nombre(s)
                  </div>
                </div>
              </div>

              <div class="elementRow">
                <div class="divValida" [ngClass]="{error : validatePersonalAccountForm('fatherLastname')}">
                  <input type="text" class="form-control" formControlName="fatherLastname"
                    placeholder="Primer apellido">

                  <div class="textError" *ngIf="validatePersonalAccountForm('fatherLastname')">
                    Ingresa tu primer apellido
                  </div>
                </div>

                <div class="divValida" [ngClass]="{error : validatePersonalAccountForm('motherLastname')}">
                  <input type="text" class="form-control" formControlName="motherLastname"
                    placeholder="Segundo apellido">

                  <div class="textError" *ngIf="validatePersonalAccountForm('motherLastname')">
                    Ingresa tu segundo apellido
                  </div>
                </div>
              </div>

              <div class="elementRow">
                <div class="divValida" [ngClass]="{error : validatePersonalAccountForm('email')}">
                  <input type="text" class="form-control form-email-input" formControlName="email" placeholder="Email">

                  <div class="textError" *ngIf="validatePersonalAccountForm('email')">
                    {{ personalAccountEmailErrorMessage }}
                  </div>
                </div>
              </div>

              <div class="elementRow">
                <div class="divValida" [ngClass]="{error : validatePersonalAccountForm('password')}">
                  <input type="password" maxlength="10" class="form-control" formControlName="password"
                    placeholder="Contraseña">

                  <div class="textError" *ngIf="validatePersonalAccountForm('password')">
                    Ingresa una contraseña
                  </div>
                </div>

                <div class="divValida" [ngClass]="{error : validatePersonalAccountForm('repeatPassword')}">
                  <input type="password" maxlength="10" class="form-control" formControlName="repeatPassword"
                    placeholder="Confirmar contraseña">

                  <div class="textError" *ngIf="validatePersonalAccountForm('repeatPassword')">
                    Ingresa la misma contraseña
                  </div>
                </div>
              </div>

            </form>

            <!-- <h5>FirstName</h5>
						<pre>{{ personalAccountForm.controls.firstName.errors | json }}</pre> -->

            <!-- <pre> {{ personalAccountForm.controls.email.errors | json }}</pre> -->

            <!-- <h5>Form Valid: {{ personalAccountForm.valid }}</h5>

              <h5>Form Errors</h5>
              <pre>{{ personalAccountForm.errors | json }}</pre>

              <h5>Json</h5>
              <pre> {{ personalAccountForm.value | json }}</pre>

              <h5>FirstName</h5>
              <pre>{{ personalAccountForm.controls.firstName.errors | json }}</pre>

              <h5>Email</h5>
              <pre>{{ personalAccountForm.controls.email.errors | json }}</pre>

              <h5>Password</h5>
              <pre>{{ personalAccountForm.controls.password.errors | json }}</pre>

              <h5>Repeat Password</h5>
              <pre>{{ personalAccountForm.controls.repeatPassword.errors | json }}</pre> -->


          </mat-tab>
          <!-- END PERSONAL -->

          <!-- EMPRESA -->
          <mat-tab label="Empresa">
            <form name="businessAccountForm" [formGroup]="businessAccountForm" autocomplete="false">

              <div class="elementRow">
                <div class="divValida" [ngClass]="{error : validateBusinessAccountForm('ruc')}">
                  <input type="text" class="form-control" maxlength="11" formControlName="ruc" placeholder="RUC">

                  <div class="textError" *ngIf="validateBusinessAccountForm('ruc')">
                    {{ businessAccountRUCErrorMessage }}
                  </div>
                </div>

                <div class="divValida" [ngClass]="{error : validateBusinessAccountForm('businessName')}">
                  <input type="text" class="form-control" formControlName="businessName" placeholder="Razón Social">

                  <div class="textError" *ngIf="validateBusinessAccountForm('businessName')">
                    Ingresa la razón social
                  </div>
                </div>
              </div>

              <div class="elementRow">
                <div class="divValida" [ngClass]="{error : validateBusinessAccountForm('firstName')}">
                  <input type="text" class="form-control" formControlName="firstName" placeholder="Nombres">

                  <div class="textError" *ngIf="validateBusinessAccountForm('firstName')">
                    Ingresa tu(s) nombre(s)
                  </div>
                </div>
              </div>

              <div class="elementRow">
                <div class="divValida" [ngClass]="{error : validateBusinessAccountForm('fatherLastname')}">
                  <input type="text" class="form-control" formControlName="fatherLastname"
                    placeholder="Apellido paterno">

                  <div class="textError" *ngIf="validateBusinessAccountForm('fatherLastname')">
                    Ingresa tu primer apellido
                  </div>
                </div>

                <div class="divValida" [ngClass]="{error : validateBusinessAccountForm('motherLastname')}">
                  <input type="text" class="form-control" formControlName="motherLastname"
                    placeholder="Apellido materno">

                  <div class="textError" *ngIf="validateBusinessAccountForm('motherLastname')">
                    Ingresa tu segundo apellido
                  </div>
                </div>
              </div>

              <!-- <div class="elementRow">
                                <div class="divValida"
                                    [ngClass]="{error : validateBusinessAccountForm('documentType')}">
                                    <select class="form-select" formControlName="documentType">
                                        <option value="" selected>Seleccione</option>
                                        <option value="1">DNI</option>
                                    </select>

                                    <div class="textError" *ngIf="validateBusinessAccountForm('documentType')">
                                        Selecciona el tipo de documento
                                    </div>
                                </div>

                                <div class="divValida"
                                    [ngClass]="{error : validateBusinessAccountForm('documentNumber')}">
                                    <input type="text" class="form-control" formControlName="documentNumber"
                                        placeholder="DNI">

                                    <div class="textError" *ngIf="validateBusinessAccountForm('documentNumber')">
                                        Ingresa tu número de documento
                                    </div>
                                </div>
                            </div> -->

              <div class="elementRow">
                <div class="divValida" [ngClass]="{error : validateBusinessAccountForm('email')}">
                  <input type="text" class="form-control form-email-input" formControlName="email" placeholder="Email">

                  <div class="textError" *ngIf="validateBusinessAccountForm('email')">
                    {{ businessAccountEmailErrorMessage }}
                  </div>
                </div>
              </div>

              <div class="elementRow">
                <div class="divValida" [ngClass]="{error : validateBusinessAccountForm('password')}">
                  <input type="password" maxlength="10" class="form-control" formControlName="password"
                    placeholder="Contraseña">

                  <div class="textError" *ngIf="validateBusinessAccountForm('password')">
                    Ingresa una contraseña
                  </div>
                </div>

                <div class="divValida" [ngClass]="{error : validateBusinessAccountForm('repeatPassword')}">
                  <input type="password" maxlength="10" class="form-control" formControlName="repeatPassword"
                    placeholder="Contraseña">

                  <div class="textError" *ngIf="validateBusinessAccountForm('repeatPassword')">
                    Ingresa la misma contraseña
                  </div>
                </div>
              </div>

            </form>

            <!-- <pre>{{ businessAccountForm.controls.ruc.errors | json }}</pre> -->

          </mat-tab>
          <!-- END EMPRESA -->
        </mat-tab-group>

        <div class="textPass">Debe contener 6 caracteres como mínimo, 10 caracteres como máximo, mínimo una letra y
          mínimo un número.</div>
        <div class="d-flex justify-content-center">
          <button class="w-25" (click)="saveAccount()">Regístrate</button>
        </div>
        <div class="textPolitica">Al crear una cuenta aceptas nuestra <button class="link" routerLink="/politicas"
            data-bs-dismiss="modal">política de privacidad</button>
        </div>
        <hr>
        <div class="account">
          <div class="notRegister">¿Ya tienes cuenta?</div>
          <a class="newAccount" data-bs-toggle="modal" data-bs-target="#ModalSesion">Inicia sesión</a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal Verifica Correo -->
<div class="modal" style="display: none;" aria-hidden="true" data-backdrop="false" id="ModalVerificaCorreo"
  tabindex="-1" aria-labelledby="ModalVerificaCorreoLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <div class="titleVerifica">Verifica tu correo</div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="iconCenter">
          <img src="./assets/modal/correo.svg" alt="">
        </div>
        <div class="descripText">
          Hemos enviado un correo de verificación a tu email ingresado, por favor valida el código a
          continuación para confirmar que tienes acceso.
        </div>
        <div class="action">
          <button data-bs-dismiss="modal" aria-label="Close" type="button" class="">Aceptar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal Cambio de password -->
<div class="modal" style="display: none;" aria-hidden="true" data-backdrop="false" id="ModalChangePass" tabindex="-1"
  aria-labelledby="ModalChangePassLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <div class="titleVerifica">Recuperación de Contraseña</div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="iconCenter">
          <img src="./assets/modal/correo.svg" alt="">
        </div>
        <div class="descripText">
          <!-- Se ha enviado a tu correo: <span>{{password.value}}</span> la nueva contraseña -->
          {{message}}
        </div>
        <div class="action">
          <div data-bs-dismiss="modal" aria-label="Close" class="btn primary">
            Aceptar
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-notificacion-error></app-notificacion-error>






<div class="modal"  data-backdrop="false" id="ModalDatosOpcionales" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
          <div class="modal-header border">
              <h2 class="modal-title mb-4" id="exampleModalLabel">Política de Protección y Tratamiento de Datos Personales</h2>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body mt-4">
              <div class="row">
                  <div class="col-12">
                      <p>
                          <strong>En cumplimiento de la Ley N° 29733 – Ley de Protección de Datos Personales- y su Reglamento N° 003-2013-JUS</strong>, autorizo y otorgo a Promotora de Turismo Nuevo Mundo S.A.C. . (en adelante Nuevo Mundo Viajes), de manera indefinida, mi consentimiento libre, previo, expreso, inequívoco e informado para que (por sí mismo o a travé s de terceros): Recopile, de tratamiento o suprima, transfiera o importe, exporte mis datos personales, para elaborar Bases de Datos, transferirlas a terceras personas vinculadas o no a Nuevo Mundo Viajes (sean socios comerciales o no, nacionales o extranjeros, públicos o privados) con la finalidad de:
                      </p>

                      <ul>
                          <li>Cumplir con la prestación de los servicios turísticos contratados: programación y reserva de vuelos, paquetes turísticos, reserva de hoteles, programación de itinerarios; así como servicios de alquiler de autos y seguros,
                              entre otros.</li>
                          <li>Contactar con el cliente antes y durante la prestación de los servicios turísticos contratados a fin de responder dudas, consultas y solicitudes.</li>
                          <li>Enviar información relativa a la naturaleza del servicio y/o disposiciones de obligatorio conocimiento y cumplimiento durante el servicio o paquete turístico adquirido, como las condiciones de contratación y/u otras condiciones
                              dentro de las que podrían incluirse políticas internas de la empresa.</li>
                      </ul>

                      <p>
                          Los datos personales que usted nos proporcione, serán almacenados en los bancos de datos descrito en el
                          <strong>anexo 2</strong>.
                      </p>
                      <p>
                          He sido informado que:
                      </p>
                      <p>
                          Si no otorgo este consentimiento, mi información solo será utilizada (tratada) para la ejecución (desarrollo) y cumplimiento del servicio que contrate, podré revocar, en cualquier momento mi consentimiento, comunicando mi decisión por escrito en cualquiera
                          de las oficinas de Nuevo Mundo Viajes, la cual no afectará el uso de mis datos ni el contenido de las Bases de Datos para la ejecución y cumplimiento de la transacción que celebre con ustedes, podré ejercer mis derechos de
                          acceso, rectificación, cancelación y oposición de mis datos de acuerdo a la legislación vigente.
                      </p>
                      <p>
                          Mayor información sobre la política de protección y tratamiento de datos
                          <a href="#">aquí</a>.
                      </p>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>